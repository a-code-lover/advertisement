### 天天问http和https的区别

http应用层协议，默认80端口，在tcp/ip上实现的，无状态的，http1.0每次请求结束后自动关闭，变成短连接。

HTTP协议其完整的工作过程可分为四步：

1. 连接：首先客户机与服务器需要建立连接（由TCP/IP握手连接实现）。只要单击某个超级链接，HTTP的工作开始；
2. 请求：建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符、客户机信息和可能的内容；
3. 应答：服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是MIME信息包括服务器信息、实体信息和可能的内容。客户端接收服务器所返回的信息通过浏览器显示在用户的显示屏上；
4. 关闭：当应答结束后，浏览器和服务器关闭连接，以保证其他浏览器可以与服务器进行连接。

HTTPS握手过程包括五步：

1. 浏览器请求连接；
2. 服务器返回证书：证书里面包含了网站地址，加密公钥，以及证书的颁发机构等信息。
3. 浏览器收到证书后作以下工作：
    a) 验证证书的合法性；
    b) 生成随机（对称）密码，取出证书中提供的公钥对随机密码加密；
    c) 将之前生成的加密随机密码等信息发送给网站；
4. 服务器收到消息后作以下的操作：
    a) 使用自己的私钥解密浏览器用公钥加密后的消息，并验证HASH是否与浏览器发来的一致；
    b) 使用加密的随机对称密码加密一段消息，发送给浏览器；
5. 浏览器解密并计算握手消息的HASH：如果与服务端发来的HASH一致，此时握手过程结束，之后所有的通信数据将由之前浏览器生成的随机密码并利用对称加密算法进行加密。

对于HTTPS协议，所有的消息都是经过**SSL协议**方式加密，而支持加密的文件正是**数字证书**；

参考：
<http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html>
<https://www.xncoding.com/2017/11/16/web/https.html>
